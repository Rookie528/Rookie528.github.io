<hr>
<h2 id="title-HTTP信息结构date-2025-05-20categories-Web-HTTP教程tags-HTTP信息结构"><a href="#title-HTTP信息结构date-2025-05-20categories-Web-HTTP教程tags-HTTP信息结构" class="headerlink" title="title: HTTP信息结构date: 2025-05-20categories:  - Web  - HTTP教程tags:  - HTTP信息结构"></a>title: HTTP信息结构<br>date: 2025-05-20<br>categories:<br>  - Web<br>  - HTTP教程<br>tags:<br>  - HTTP信息结构</h2><h1 id="HTTP信息结构"><a href="#HTTP信息结构" class="headerlink" title="HTTP信息结构"></a>HTTP信息结构</h1><p>HTTP 是基于<strong>客户端&#x2F;服务端（C&#x2F;S）</strong> 的架构模型，通过一个可靠的链接来交换信息，是一个<strong>无状态的请求&#x2F;响应协议</strong>。</p>
<p>HTTP 消息是客户端和服务器之间通信的基础，它们由一系列的文本行组成，遵循特定的格式和结构。</p>
<p>HTTP消息分为两种类型：请求消息和响应消息。</p>
<p>一个 HTTP 客户端是一个应用程序（Web 浏览器或其他任何客户端），通过连接到服务器达到向服务器发送一个或多个 HTTP 的请求的目的。</p>
<p>一个 HTTP 服务器 同样也是一个应用程序（通常是一个 Web 服务，如 Nginx、Apache 服务器或 IIS 服务器等），通过接收客户端的请求并向客户端发送 HTTP 响应数据。</p>
<p><img src="/assets/image-20250520030550-1c25gs4.png" alt="image"></p>
<hr>
<h2 id="客户端请求消息"><a href="#客户端请求消息" class="headerlink" title="客户端请求消息"></a>客户端请求消息</h2><p>客户端发送一个HTTP请求到服务器的请求消息包括以下格式：<strong>请求行（request line）</strong> 、<strong>请求头部（header）</strong> 、空行和<strong>请求数据</strong>四个部分组成，下图给出了请求报文的一般格式。</p>
<p><img src="/assets/image-20250520030559-jci9yiy.png" alt="image"></p>
<ul>
<li><p><strong>请求行</strong>（Request Line）：</p>
<ul>
<li><strong>方法</strong>：如 <strong>GET、POST、PUT、DELETE</strong>等，指定要执行的操作。</li>
<li><strong>请求 URI</strong>（统一资源标识符）：请求的资源路径，通常包括主机名、端口号（如果非默认）、路径和查询字符串。</li>
<li><strong>HTTP 版本</strong>：如 HTTP&#x2F;1.1 或 HTTP&#x2F;2。</li>
</ul>
<p>请求行的格式示例：<code>GET /index.html HTTP/1.1</code>​</p>
</li>
<li><p><strong>请求头</strong>（Request Headers）：</p>
<ul>
<li>包含了客户端环境信息、请求体的大小（如果有）、客户端支持的压缩类型等。</li>
<li>常见的请求头包括<code>Host</code>​、<code>User-Agent</code>​、<code>Accept</code>​、<code>Accept-Encoding</code>​、<code>Content-Length</code>​等。</li>
</ul>
</li>
<li><p><strong>空行</strong>：</p>
<ul>
<li>请求头和请求体之间的<strong>分隔符</strong>，表示请求头的结束。</li>
</ul>
</li>
<li><p><strong>请求体</strong>（可选）：</p>
<ul>
<li>在某些类型的HTTP请求（如 <strong>POST 和 PUT</strong>）中，请求体包含要发送给服务器的数据。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="服务器响应消息"><a href="#服务器响应消息" class="headerlink" title="服务器响应消息"></a>服务器响应消息</h2><p>HTTP 响应也由四个部分组成，分别是：<strong>状态行、消息报头、空行和响应正文</strong>。</p>
<p><img src="/assets/image-20250520030619-j7zy37b.png" alt="image"></p>
<ul>
<li><p><strong>状态行</strong>（Status Line）：</p>
<ul>
<li><strong>HTTP 版本</strong>：与请求消息中的版本相匹配。</li>
<li><strong>状态码</strong>：三位数，表示请求的处理结果，如 200 表示成功，404 表示未找到资源。</li>
<li><strong>状态信息</strong>：状态码的简短描述。</li>
</ul>
<p>状态行的格式示例：<code>HTTP/1.1 200 OK</code>​</p>
</li>
<li><p><strong>响应头</strong>（Response Headers）：</p>
<ul>
<li>包含了服务器环境信息、响应体的大小、服务器支持的压缩类型等。</li>
<li>常见的响应头包括<code>Content-Type</code>​、<code>Content-Length</code>​、<code>Server</code>​、<code>Set-Cookie</code>​等。</li>
</ul>
</li>
<li><p><strong>空行</strong>：</p>
<ul>
<li>响应头和响应体之间的分隔符，表示响应头的结束。</li>
</ul>
</li>
<li><p><strong>响应体</strong>（可选）：</p>
<ul>
<li>包含服务器返回的数据，如请求的网页内容、图片、JSON数据等。</li>
</ul>
</li>
</ul>
<hr>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p>下面实例是一点典型的使用 GET 来传递数据的实例：</p>
<p>客户端请求：</p>
<pre><code>GET /index.html HTTP/1.1
Host: www.example.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:91.0) Gecko/20100101 Firefox/91.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Accept-Encoding: gzip, deflate
Connection: keep-alive
</code></pre>
<p>服务端响应:</p>
<pre><code>HTTP/1.1 200 OK
Date: Wed, 18 Apr 2024 12:00:00 GMT
Server: Apache/2.4.1 (Unix)
Last-Modified: Wed, 18 Apr 2024 11:00:00 GMT
Content-Length: 12345
Content-Type: text/html; charset=UTF-8

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Example Page&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Hello, World!&lt;/h1&gt;
    &lt;!-- The rest of the HTML content --&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>在实际应用中，HTTP 消息可以包含更多的头字段，并且请求体和响应体的大小会根据传输的数据而变化。</p>
